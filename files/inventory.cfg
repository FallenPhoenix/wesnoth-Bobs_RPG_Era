#textdomain wesnoth-Bobs_RPG_Era

#define BOB_DISPLAY_WEAPON NAME ICON DESCRIPTION VAR
[option]
message= _ {MENU_IMG_TXT2 "{ICON}" "$inventory[$side_number].{VAR}" _"<span color='{BOB_GREEN}'>{NAME}</span>
<span size='small'>{DESCRIPTION}</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].{VAR} greater_than_equal_to 1}
	[/show_if]
[command]
[/command]
[/option]
#enddef


#define BOB_INVENTORY
{VARIABLE finished no}
[while]
{BOB_CONDITION finished equals no}
[do]
[message]
	speaker=narrator
	image=portraits/backpack.png
	caption=_ "Inventory"
	message= _ " "

[option]
message= _ {MENU_IMG_TXT2 "icons/blank-icon.png" " " _"Return To Game"}
[command]
{VARIABLE finished yes}
[/command]
[/option]

####################################################################################
# Weapons in Use
####################################################################################

#####################
# Melee
#####################

[option]
message= _ {MENU_IMG_TXT2 "$character[$side_number].melee_weapon_icon" " " _"<span color='{BOB_GREEN}'>Current Melee Weapon: $character[$side_number].melee_weapon_name</span>
<span size='small' color='{BOB_GREY}'>(select to change weapon)</span>"}
[command]
	{BOB_EXAMINE_MELEE_WEAPON}
[/command]
[/option]

#####################
# Ranged
#####################

[option]
message= _ {MENU_IMG_TXT2 "$character[$side_number].ranged_weapon_icon" " " _"<span color='{BOB_GREEN}'>Current Ranged Weapon: $character[$side_number].ranged_weapon_name</span>
<span size='small' color='{BOB_GREY}'>(select to change weapon)</span>"}
# Hide this for magicians
[show_if]
	{BOB_CONDITION character[$side_number].ranged_weapon_skill not_equals Light}
	{BOB_CONDITION character[$side_number].ranged_weapon_skill not_equals Fire}
	{BOB_CONDITION character[$side_number].ranged_weapon_skill not_equals Ice}
	{BOB_CONDITION character[$side_number].ranged_weapon_skill not_equals Lightning}
	{BOB_CONDITION character[$side_number].ranged_weapon_skill not_equals "Sky Spirits"}
	{BOB_CONDITION character[$side_number].ranged_weapon_skill not_equals "Forest Spirits"}
[/show_if]
[command]
	{BOB_EXAMINE_RANGED_WEAPON}
[/command]
[/option]

#####################
# Armour
#####################
 
[option]
message= _ {MENU_IMG_TXT2 "$inventory[$side_number].armour_icon" " " _"<span color='{BOB_GREEN}'>$inventory[$side_number].armour_name</span>
<span size='small' color='{BOB_GREY}'>(select to examine)</span>"}
[command]

	[switch]
	variable=inventory[$side_number].armour_name
		[case]
			value="Plate Armour"
			{VARIABLE temp_armour_description ("Plate armour is a heavy, durable set of interlocking metal sheets. Both its weight and cost mean it is rarely worn by any but seasoned warriors.")}
		[/case]
		[case]
			value="Chainmail Shirt"
			{VARIABLE temp_armour_description ("Often favoured by archers and Dwarves, a well-crafted shirt of interwoven iron rings provides superb defence against most weapons.")}
		[/case]
		[case]
			value="Studded Jerkin"
			{VARIABLE temp_armour_description ("This thick iron-studded jerkin is an ideal compromise for those seeking both mobility and protection on the battlefield.")}
		[/case]
		[case]
			value="Leather Tunic"
			{VARIABLE temp_armour_description ("This light, leather tunic provides only minimal protection, but grants the wearer far more mobility than other types of armour. It is thus worn only by those who rely on stealth and speed over brute force.")}
		[/case]
		[case]
			value="Cloak"
			{VARIABLE temp_armour_description ("Although woven from mere cloth, a magician's cloak is invested with a faint magical aura which serves to soften an assailant's blows.")}
		[/case]
	[/switch]

	{VARIABLE finished_examining_armour no}
	{VARIABLE result " "}
	[while]
	{BOB_CONDITION finished_examining_armour equals no}
	[do]
	[message]
		speaker=narrator
		image=$inventory[$side_number].armour_icon
		caption=$inventory[$side_number].armour_name
		message=$temp_armour_description

	[option]
	message= _ {MENU_IMG_TXT2 "icons/blank-icon.png" " " _"Return To Game"}
	[command]
	{VARIABLE finished_examining_armour yes}
	{VARIABLE finished yes}
	{CLEAR_VARIABLE temp_armour_description}
	{CLEAR_VARIABLE temp_hp}
	{CLEAR_VARIABLE temp_max_hp}
	[/command]
	[/option]

	[option]
	message= _ {MENU_IMG_TXT2 "icons/inventory.png" " " _"<span color='{BOB_GREEN}'>Return To Inventory</span>"}
	[command]
	{VARIABLE finished_examining_armour yes}
	{CLEAR_VARIABLE temp_armour_description}
	[/command]
	[/option]

	[/message]
	[/do]
	[/while]

[/command]
[/option]

####################################################################################
# Potions
####################################################################################

#####################
# Scenario Specific Potions
#####################

#{BOB_SCENARIO_SPECIFIC_POTION_1}
#{BOB_SCENARIO_SPECIFIC_POTION_2}
#{BOB_SCENARIO_SPECIFIC_POTION_3}

#####################
# Red (Hitpoints)
#####################

[option]
message= _ {MENU_IMG_TXT2 "inventory/potions/health_potion.png" "$inventory[$side_number].health_potion" _"<span color='{BOB_GREEN}'>Health Potion</span>
<span size='small'>Restores 6 hitpoints</span>
<span size='small' color='{BOB_GREY}'>(Select to drink)</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].health_potion greater_than_equal_to 1}
	[/show_if]
[command]
	[if]
		[have_unit]
			x,y=$x1,$y1
			[not]
				[filter_wml]
					hitpoints=$this_unit.max_hitpoints
				[/filter_wml]
			[/not]
		[/have_unit]
		[then]
			{VARIABLE_OP inventory[$side_number].health_potion add -1}
			{BOB_MODIFY_HITPOINTS 6 no 0}
			{BOB_PRINT (_ "$character[$side_number].name has drunk a health potion")}
			{BOB_SOUND squishy-miss.wav}
			{BOB_REDRAW}
		[/then]
	[/if]
[/command]
[/option]

[option]
message= _ {MENU_IMG_TXT2 "inventory/potions/endurance_potion.png" "$inventory[$side_number].endurance_potion" _"<span color='{BOB_GREEN}'>Endurance Potion</span>
<span size='small'>Restores 10 hitpoints and adds 1 max hitpoint</span>
<span size='small' color='{BOB_GREY}'>(Select to drink)</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].endurance_potion greater_than_equal_to 1}
	[/show_if]
[command]
	{VARIABLE_OP inventory[$side_number].endurance_potion add -1}
	{BOB_MODIFY_HITPOINTS 10 no 1}
	{BOB_PRINT (_ "$character[$side_number].name has drunk an endurance potion")}
	{BOB_SOUND squishy-miss.wav}
	{BOB_REDRAW}
[/command]
[/option]

[option]
message= _ {MENU_IMG_TXT2 "inventory/potions/stamina_potion.png" "$inventory[$side_number].stamina_potion" _"<span color='{BOB_GREEN}'>Stamina Potion</span>
<span size='small'>Adds 3 max hitpoints</span>
<span size='small' color='{BOB_GREY}'>(Select to drink)</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].stamina_potion greater_than_equal_to 1}
	[/show_if]
[command]
	{VARIABLE_OP inventory[$side_number].stamina_potion add -1}
	{BOB_MODIFY_HITPOINTS 0 no 3}
	{BOB_PRINT (_ "$character[$side_number].name has drunk a stamina potion")}
	{BOB_SOUND squishy-miss.wav}
	{BOB_REDRAW}
[/command]
[/option]

[option]
message= _ {MENU_IMG_TXT2 "inventory/potions/life_potion.png" "$inventory[$side_number].life_potion" _"<span color='{BOB_GREEN}'>Life Potion</span>
<span size='small'>Restores 20 hitpoints</span>
<span size='small' color='{BOB_GREY}'>(Select to drink)</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].life_potion greater_than_equal_to 1}
	[/show_if]
[command]
	[if]
		[have_unit]
			x,y=$x1,$y1
			[not]
				[filter_wml]
					hitpoints=$this_unit.max_hitpoints
				[/filter_wml]
			[/not]
		[/have_unit]
		[then]
			{VARIABLE_OP inventory[$side_number].life_potion add -1}
			{BOB_MODIFY_HITPOINTS 20 no 0}
			{BOB_PRINT (_ "$character[$side_number].name has drunk a life potion")}
			{BOB_SOUND squishy-miss.wav}
			{BOB_REDRAW}
		[/then]
	[/if]
[/command]
[/option]

#####################
# Purple (XP-related)
#####################

[option]
message= _ {MENU_IMG_TXT2 "inventory/potions/brainhaste_tonic.png" "$inventory[$side_number].brainhaste_tonic" _"<span color='green'>Brainhaste Tonic</span>
<span size='small'>Adds 4 experience</span>
<span size='small' color='grey'>(Select to drink)</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].brainhaste_tonic greater_than_equal_to 1}
[/show_if]
	[command]
		{VARIABLE_OP inventory[$side_number].brainhaste_tonic add -1}
		{BOB_SOUND squishy-miss.wav}
		{BOB_PRINT (_ "$character[$side_number].name has drunk some brainhaste tonic")}
		{BOB_STORE (
		{VARIABLE_OP stored.experience add 4}
		[if]
			{BOB_CONDITION stored.experience greater_than_equal_to $stored.max_experience}
			[then]
				{VARIABLE_OP character[$side_number].character_points add 10}
				{VARIABLE stored.overlays misc/cp-overlay.png}
			[/then]
		[/if]
		)}
		{BOB_MODIFY_EXPERIENCE 0}
	[/command]
[/option]

[option]
message= _ {MENU_IMG_TXT2 "inventory/potions/mind_juice.png" "$inventory[$side_number].mind_juice" _"<span color='{BOB_GREEN}'>Mind Juice</span>
<span size='small'>-3 max experience</span>
<span size='small' color='{BOB_GREY}'>(Select to drink)</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].mind_juice greater_than_equal_to 1}
[/show_if]
	[command]
		{BOB_STORE (
		# Prevent potion making max xp too low
		[if]
			{BOB_CONDITION stored.max_experience greater_than_equal_to 13}
			[then]
				{VARIABLE_OP inventory[$side_number].mind_juice add -1}
				{BOB_SOUND squishy-miss.wav}
				{BOB_PRINT (_ "$character[$side_number].name has drunk some mind juice")}
				{VARIABLE_OP stored.max_experience add -3}
				[if]
					{BOB_CONDITION stored.experience greater_than_equal_to $stored.max_experience}
					[then]
						{VARIABLE_OP character[$side_number].character_points add 10}
						{VARIABLE stored.overlays misc/cp-overlay.png}
					[/then]
				[/if]
				)}
				{BOB_MODIFY_EXPERIENCE 0}
			[/then]
		[/if]
	[/command]
[/option]

#####################
# Green (poison-related)
#####################

[option]
message= _ {MENU_IMG_TXT2 "inventory/potions/antidote.png" "$inventory[$side_number].antidote" _"<span color='{BOB_GREEN}'>Antidote</span>
<span size='small'>Cures poison</span>
<span size='small' color='{BOB_GREY}'>(Select to drink)</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].antidote greater_than_equal_to 1}
	[/show_if]
[command]
	# Prevent curing when not poisoned
	[if]
		[have_unit]
			x,y=$x1,$y1
			[filter_wml]
				[status]
					poisoned=yes
				[/status]
			[/filter_wml]
		[/have_unit]
		[then]
			{VARIABLE_OP inventory[$side_number].antidote add -1}
			{BOB_ALTER_STATUS x=$x1 y=$y1 poisoned no}
			{BOB_PRINT (_ "$character[$side_number].name has drunk an antidote")}
			{BOB_SOUND squishy-miss.wav}
			{BOB_REDRAW}
		[/then]
	[/if]
[/command]
[/option]

[option]
message= _ {MENU_IMG_TXT2 "inventory/potions/speed_serum.png" "$inventory[$side_number].speed_serum" _"<span color='{BOB_GREEN}'>Speed Serum</span>
<span size='small'>Restores moves but poisons your metabolism</span>
<span size='small' color='{BOB_GREY}'>(Select to drink)</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].speed_serum greater_than_equal_to 1}
	[/show_if]
[command]
{VARIABLE_OP inventory[$side_number].speed_serum add -1}
{BOB_STORE_UNIT side=$side_number canrecruit=yes ({VARIABLE stored_unit.moves $stored_unit.max_moves})}
{BOB_ALTER_STATUS x=$x1 y=$y1 poisoned yes}
{BOB_PRINT (_ "$character[$side_number].name has drunk some speed serum")}
{BOB_SOUND squishy-miss.wav}
{BOB_REDRAW}
[/command]
[/option]

#####################
# Blue (speed/fighting related)
#####################

[option]
message= _ {MENU_IMG_TXT2 "inventory/potions/energy_cocktail.png" "$inventory[$side_number].energy_cocktail" _"<span color='{BOB_GREEN}'>Energy Cocktail</span>
<span size='small'>Restores moves after next combat</span>
<span size='small' color='{BOB_GREY}'>(Select to drink)</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].energy_cocktail greater_than_equal_to 1}
	[/show_if]
[command]
# Prevent potion being drunk multiple times to stop special being added more than once
[if]
	[have_unit]
		x,y=$x1,$y1
		[not]
		[filter_wml]
			[attack]
				[specials]
					[dummy]
						id=energised
					[/dummy]
				[/specials]
			[/attack]
		[/filter_wml]
		[/not]
	[/have_unit]
	[then]
		{VARIABLE_OP inventory[$side_number].energy_cocktail add -1}
		{BOB_ADD_WEAPON_SPECIAL melee $character[$side_number].melee_weapon_name ENERGISED}
		{BOB_ADD_WEAPON_SPECIAL ranged $character[$side_number].ranged_weapon_name ENERGISED}
		{BOB_PRINT (_ "$character[$side_number].name has drunk an energy cocktail")}
		{BOB_SOUND squishy-miss.wav}
		{BOB_REDRAW}
	[/then]
[/if]
[/command]
[/option]

[option]
message= _ {MENU_IMG_TXT2 "inventory/potions/bloodlust_bile.png" "$inventory[$side_number].bloodlust_bile" _"<span color='{BOB_GREEN}'>Bloodlust Bile</span>
<span size='small'>You can attack twice</span>
<span size='small' color='{BOB_GREY}'>(Select to drink)</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].bloodlust_bile greater_than_equal_to 1}
	[/show_if]
[command]
# Prevent potion being drunk multiple times to stop special being added more than once
[if]
	[have_unit]
		x,y=$x1,$y1
		[not]
		[filter_wml]
			[attack]
				[specials]
					[dummy]
						id=bloodlust
					[/dummy]
				[/specials]
			[/attack]
		[/filter_wml]
		[/not]
	[/have_unit]
	[then]
		{VARIABLE_OP inventory[$side_number].bloodlust_bile add -1}
		{BOB_ADD_WEAPON_SPECIAL melee $character[$side_number].melee_weapon_name BLOODLUST}
		{BOB_ADD_WEAPON_SPECIAL ranged $character[$side_number].ranged_weapon_name BLOODLUST}
		{BOB_PRINT (_ "$character[$side_number].name has drunk some bloodlust bile")}
		{BOB_SOUND squishy-miss.wav}
		{BOB_REDRAW}
	[/then]
[/if]
[/command]
[/option]

[option]
message= _ {MENU_IMG_TXT2 "inventory/potions/frenzy_fluid.png" "$inventory[$side_number].frenzy_fluid" _"<span color='{BOB_GREEN}'>Frenzy Fluid</span>
<span size='small'>Your next combat will last two rounds</span>
<span size='small' color='{BOB_GREY}'>(Select to drink)</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].frenzy_fluid greater_than_equal_to 1}
	[/show_if]
[command]
# Prevent potion being drunk multiple times to stop special being added more than once
[if]
	[have_unit]
		x,y=$x1,$y1
		[not]
		[filter_wml]
			[attack]
				[specials]
					[berserk]
						id=frenzy
					[/berserk]
				[/specials]
			[/attack]
		[/filter_wml]
		[/not]
	[/have_unit]
	[then]
		{VARIABLE_OP inventory[$side_number].frenzy_fluid add -1}
		{BOB_ADD_WEAPON_SPECIAL melee $character[$side_number].melee_weapon_name FRENZY}
		{BOB_ADD_WEAPON_SPECIAL ranged $character[$side_number].ranged_weapon_name FRENZY}
		{BOB_PRINT (_ "$character[$side_number].name has drunk some frenzy fluid")}
		{BOB_SOUND squishy-miss.wav}
		{BOB_REDRAW}
	[/then]
[/if]
[/command]
[/option]

####################################################################################
# Misc Items
####################################################################################

#{BOB_SCENARIO_SPECIFIC_MISC_ITEM_1}
#{BOB_SCENARIO_SPECIFIC_MISC_ITEM_2}
#{BOB_SCENARIO_SPECIFIC_MISC_ITEM_3}

#####################
# Walking Boots
#####################

[option]
message= _ {MENU_IMG_TXT2 "inventory/misc_items/walking_boots.png" "$inventory[$side_number].walking_boots" _"<span color='{BOB_GREEN}'>Walking Boots</span>
<span size='small'>+1 movement</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].walking_boots greater_than_equal_to 1}
	[/show_if]
[command]
[/command]
[/option]

#####################
# Elven Boots
#####################

[option]
message= _ {MENU_IMG_TXT2 "inventory/misc_items/elven_boots.png" "$inventory[$side_number].elven_boots" _"<span color='{BOB_GREEN}'>Elven Boots</span>
<span size='small'>+2 movement</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].elven_boots greater_than_equal_to 1}
	[/show_if]
[command]
[/command]
[/option]

#####################
# Nim Boots
#####################

[option]
message= _ {MENU_IMG_TXT2 "inventory/misc_items/nim_boots.png" "$inventory[$side_number].nim_boots" _"<span color='{BOB_GREEN}'>Nim Boots</span>
<span size='small'>+10% defence on flat terrain</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].nim_boots greater_than_equal_to 1}
	[/show_if]
[command]
[/command]
[/option]

#####################
# Snow Shoes
#####################

# Just for show (for characters who do not need it)

[option]
message= _ {MENU_IMG_TXT2 "inventory/misc_items/snow_shoes.png" "$inventory[$side_number].snow_shoes" _"<span color='{BOB_GREEN}'>Snow Shoes</span>
<span size='small'>Reduces movement cost on snow and ice by 1, but reduces movement by 1</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].snow_shoes greater_than_equal_to 1}
	{BOB_CONDITION inventory[$side_number].snow_shoes_on numerical_equals 1}
	[or]
		{BOB_CONDITION inventory[$side_number].snow_shoes greater_than_equal_to 1}
		{BOB_CONDITION character[$side_number].perk_snow_trekking equals yes}
	[/or]
	[or]
		{BOB_CONDITION inventory[$side_number].snow_shoes greater_than_equal_to 1}
		{BOB_CONDITION unit.race equals dwarf}
	[/or]
	[/show_if]
[command]
[/command]
[/option]

# Unworn

[option]
message= _ {MENU_IMG_TXT2 "inventory/misc_items/snow_shoes.png" "$inventory[$side_number].snow_shoes" _"<span color='{BOB_GREEN}'>Snow Shoes</span>
<span size='small'>Reduces movement cost on snow and ice by 1, but reduces movement by 1</span>
<span size='small' color='{BOB_GREY}'>(Select to wear)</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].snow_shoes greater_than_equal_to 1}
	{BOB_CONDITION character[$side_number].perk_snow_trekking equals no}
	{BOB_CONDITION unit.race not_equals dwarf}
	{BOB_CONDITION inventory[$side_number].snow_shoes_on numerical_equals 0}
	[/show_if]
[command]
{BOB_MODIFY_MOVEMENT x=$x1 y=$y1 -1}
{BOB_ALTER_MOVE_COSTS frozen -1}
{VARIABLE_OP inventory[$side_number].snow_shoes add -1}
{VARIABLE_OP inventory[$side_number].snow_shoes_on add 1}
{BOB_PRINT (_ "$character[$side_number].name has put on some snow shoes")}
{BOB_REDRAW}
[/command]
[/option]

# Worn

[option]
message= _ {MENU_IMG_TXT2 "inventory/misc_items/snow_shoes.png" "$inventory[$side_number].snow_shoes_on" _"<span color='{BOB_GREEN}'>Snow Shoes</span>
<span size='small'>Reduces movement cost on snow and ice by 1, but reduces movement by 1</span>
<span size='small' color='{BOB_GREY}'>(Select to remove)</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].snow_shoes_on greater_than_equal_to 1}
	[/show_if]
[command]
{BOB_MODIFY_MOVEMENT x=$x1 y=$y1 1}
{BOB_ALTER_MOVE_COSTS frozen 1}
{VARIABLE_OP inventory[$side_number].snow_shoes add 1}
{VARIABLE_OP inventory[$side_number].snow_shoes_on add -1}
{BOB_PRINT (_ "$character[$side_number].name has taken off their snow shoes")}
{BOB_REDRAW}
[/command]
[/option]

#####################
# Magic Bean
#####################

[option]
message= _ {MENU_IMG_TXT2 "inventory/misc_items/magic_bean.png" "$inventory[$side_number].magic_bean" _"<span color='{BOB_GREEN}'>Magic Bean</span>
<span size='small'>Converts grassland to great tree</span>
<span size='small' color='{BOB_GREY}'>(Select to plant)</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].magic_bean greater_than_equal_to 1}
	[have_location]
		x,y=$x1,$y1
		terrain=Gg,Gs,Gd,Gll
	[/have_location]
[/show_if]
[command]
	{VARIABLE_OP inventory[$side_number].magic_bean add -1}
	{BOB_PRINT (_ "$character[$side_number].name has planted a magic bean")}
	{BOB_SOUND wose-die.ogg}
	{MODIFY_TERRAIN Gg^Fet $x1 $y1}
	{BOB_REDRAW}
[/command]
[/option]

[option]
message= _ {MENU_IMG_TXT2 "inventory/misc_items/magic_bean.png" "$inventory[$side_number].magic_bean" _"<span color='{BOB_GREEN}'>Magic Bean</span>
<span size='small'>Converts grassland or savanna to great tree</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].magic_bean greater_than_equal_to 1}
	[not]
		[have_location]
			x,y=$x1,$y1
			terrain=Gg,Gs,Ggf
		[/have_location]
	[/not]
[/show_if]
[command]
[/command]
[/option]

#####################
# Tent
#####################

[option]
message= _ {MENU_IMG_TXT2 "inventory/misc_items/tent.png" "$inventory[$side_number].tent" _"<span color='{BOB_GREEN}'>Tent</span>
<span size='small'>Creates temporary mini-village which heals +4HP each turn</span>
<span size='small' color='{BOB_GREY}'>(Select to pitch)</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].tent greater_than_equal_to 1}
[/show_if]
[command]
	[if]
		[not]
			[have_location]
				x,y=$x1,$y1
				terrain="Xt,Xu,Xv,*^Xo,Xos,Qt,Qlf,Ql,Qxu,Md^Xm,Mm^Xm,Wo,Ww,_off^_usr,Dd^Vda,Dd^Vdt,Aa^Vea,Gg^Ve,Aa^Vha,Gg^Vh,Hh^Vhh,Ha^Vhha,Mm^Vhh,Gs^Vht,Uu^Vu,Uu^Vud,Ww^Vm,Ss^Vhs,Ss^Vm"
			[/have_location]
		[/not]
		[then]
			{VARIABLE_OP inventory[$side_number].tent add -1}
			{BOB_PRINT (_ "$character[$side_number].name has pitched a tent")}
			{BOB_SOUND ("staff.wav")}
			{BOB_DELAY 100}
			{BOB_SOUND ("pincers.ogg")}
			{BOB_DELAY 160}
			{BOB_SOUND ("sling.ogg")}
			{PLACE_IMAGE scenery/tent.png $x1 $y1}
			{BOB_REDRAW}
			[store_locations]
			  variable=tent_xy
			  find_in=tent_xy
			  [or]
			   x,y=$x1,$y1
			  [/or]
			 [/store_locations]
		[/then]
	[/if]
[/command]
[/option]

#####################
# Map
#####################

[option]
message= _ {MENU_IMG_TXT2 "inventory/misc_items/map.png" "$inventory[$side_number].map" _"<span color='{BOB_GREEN}'>Map</span>
<span size='small'>Removes shroud within 10 hexes</span>
<span size='small' color='{BOB_GREY}'>(Select to read)</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].map greater_than_equal_to 1}
	[/show_if]
[command]
	{VARIABLE_OP inventory[$side_number].map add -1}
	{BOB_PRINT (_ "$character[$side_number].name has studied a map of the local area")}
	[remove_shroud]
		side=$side_number
		[filter_adjacent_location]
			x=$x1
			y=$y1
			radius=9
			[filter_radius]
				terrain=!,Xu,Xv,Xt,*^Xo,Xos,Md^Xm,Mm^Xm,_off^_usr
			[/filter_radius]
		[/filter_adjacent_location]
	[/remove_shroud]
	{BOB_REDRAW}
[/command]
[/option]

#####################
# Suicide Bomb
#####################

[option]
message= _ {MENU_IMG_TXT2 "inventory/misc_items/suicide_bomb.png" "$inventory[$side_number].suicide_bomb" _"<span color='{BOB_GREEN}'>Suicide Bomb</span>
<span size='small'>Inflicts 10 damage on all adjacent units, including yourself</span>
<span size='small' color='{BOB_GREY}'>(Select to detonate)</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].suicide_bomb greater_than_equal_to 1}
[/show_if]
[command]

	{VARIABLE finished yes}
	{VARIABLE_OP inventory[$side_number].suicide_bomb add -1}
	{BOB_PRINT (_ "$character[$side_number].name has detonated a suicide bomb")}
	{BOB_REDRAW}
	{BOB_SOUND explosion.ogg}
	[item]
		x,y=$x1,$y1
		halo="projectiles/fire-burst-small-1.png:75,projectiles/fire-burst-small-2.png:75,projectiles/fire-burst-small-3.png:75,projectiles/fire-burst-small-4.png:75,projectiles/fire-burst-small-5.png:75,projectiles/fire-burst-small-6.png:75,projectiles/fire-burst-small-7.png:75,projectiles/fire-burst-small-8.png:75" 
	[/item]
	{REMOVE_IMAGE $x1 $y1}
	{BOB_MODIFY_HITPOINTS -10 no 0}
	{BOB_FLOATING_LABEL side=$side_number x,y=$x1,$y1 "10" {COLOR_HARM}}
	
	[store_unit]
		[filter]
			[filter_adjacent]
				x,y=$x1,$y1
			[/filter_adjacent]
		[/filter]
		variable=suicide_adjacent
	[/store_unit]

	{FOREACH suicide_adjacent i}
		
		{VARIABLE temp_x $suicide_adjacent[$i].x}
		{VARIABLE temp_y $suicide_adjacent[$i].y}
		
		[unstore_unit]
			variable=suicide_adjacent[$i]
			text= _ "10"
			{COLOR_HARM}
		[/unstore_unit]
		
		[object]
			silent=yes
			duration=forever
			[filter]
				x=$temp_x
				y=$temp_y
			[/filter]
			[effect]
				apply_to=hitpoints
				increase=-10
			[/effect]
		[/object]
		
	{NEXT i}

	{CLEAR_VARIABLE suicide_adjacent}
	{CLEAR_VARIABLE temp_x}
	{CLEAR_VARIABLE temp_y}
	
[/command]
[/option]

#####################
# Tongue of Mockery
#####################

[option]
message= _ {MENU_IMG_TXT2 "inventory/misc_items/tongue_of_mockery.png" "$inventory[$side_number].tongue_of_mockery" _"<span color='{BOB_GREEN}'>Tongue Of Mockery</span>
<span size='small'>Sends all adjacent units into a mini-berserk frenzy</span>
<span size='small' color='{BOB_GREY}'>(Select to unleash the mockery)</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].tongue_of_mockery greater_than_equal_to 1}
[/show_if]
[command]

	{VARIABLE finished yes}
	{VARIABLE_OP inventory[$side_number].tongue_of_mockery add -1}
	{BOB_PRINT (_ "$character[$side_number].name has unleashed the tongue of mockery")}
	{BOB_REDRAW}

	{BOB_SOUND dwarf-laugh.wav}
	[store_unit]
		[filter]
			[filter_adjacent]
				x,y=$x1,$y1
			[/filter_adjacent]
			[not]
				[filter_wml]
					[attack]
						[specials]
							[berserk]
								id=frenzy
							[/berserk]
						[/specials]
					[/attack]
				[/filter_wml]
			[/not]
		[/filter]
		variable=adjacent
	[/store_unit]

	{FOREACH adjacent i}
		
		{VARIABLE temp_x $adjacent[$i].x}
		{VARIABLE temp_y $adjacent[$i].y}
		
		[unstore_unit]
			variable=adjacent[$i]
			text= _ "Frenzy"
			{COLOR_HARM}
		[/unstore_unit]
		
		[object]
			silent=yes
			duration=forever
			[filter]
				x=$temp_x
				y=$temp_y
			[/filter]
			[effect]
			apply_to=attack
			range=melee
				[set_specials]
				mode=append
				{WEAPON_SPECIAL_FRENZY}
				[/set_specials]
			[/effect]
			[effect]
			apply_to=attack
			range=ranged
				[set_specials]
				mode=append
				{WEAPON_SPECIAL_FRENZY}
				[/set_specials]
			[/effect]
		[/object]
		
	{NEXT i}

	{CLEAR_VARIABLE adjacent}
	{CLEAR_VARIABLE temp_x}
	{CLEAR_VARIABLE temp_y}
	
[/command]
[/option]

#####################
# Lantern
#####################

# should be set to extinguished when hit by cold or water, or when unit moves in swamp or water.

# Unlit lantern

[option]
message= _ {MENU_IMG_TXT2 "inventory/misc_items/unlit_lantern.png" "$inventory[$side_number].unlit_lantern" _"<span color='{BOB_GREEN}'>Unlit Lantern</span>
<span size='small'>Gives the brightens ability: 10% lawful TOD bonus</span>
<span size='small' color='{BOB_GREY}'>(select to light)</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].unlit_lantern greater_than_equal_to 1}
	# this is to disable it
	{BOB_CONDITION character[$side_number].bob not_equals bob}
	[/show_if]
[command]
{VARIABLE_OP inventory[$side_number].unlit_lantern add -1}
{VARIABLE_OP inventory[$side_number].lit_lantern add 1}
{BOB_PRINT (_ "$character[$side_number].name has lit a lantern")}
{BOB_ADD_ABILITY BRIGHTENS}
{BOB_REDRAW}
[/command]
[/option]

# Lit lantern

[option]
message= _ {MENU_IMG_TXT2 "inventory/misc_items/lit_lantern.png" "$inventory[$side_number].lit_lantern" _"<span color='{BOB_GREEN}'>Lit Lantern</span>
<span size='small'>Gives the brightens ability: 10% lawful TOD bonus</span>
<span size='small' color='{BOB_GREY}'>(select to extinguish)</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].lit_lantern greater_than_equal_to 1}
	# this is to disable it
	{BOB_CONDITION character[$side_number].bob not_equals bob}
	[/show_if]
[command]
{VARIABLE_OP inventory[$side_number].lit_lantern add -1}
{VARIABLE_OP inventory[$side_number].unlit_lantern add 1}
# Since it is theoretically possible to have more than 1 lit lantern, this ensures that the ability is only removed when the last lit lantern is extinguished
[if]
	{BOB_CONDITION inventory[$side_number].lit_lantern numerical_equals 0}
	[then]
		{BOB_REMOVE_ABILITY BRIGHTENS}
		{BOB_PRINT (_ "$character[$side_number].name has extinguished their lantern")}
	[/then]
[/if]
{BOB_REDRAW}
[/command]
[/option]

####################################################################################
# Raw Materials
####################################################################################

#{BOB_SCENARIO_SPECIFIC_RAW_INGREDIENT_1}
#{BOB_SCENARIO_SPECIFIC_RAW_INGREDIENT_2}
#{BOB_SCENARIO_SPECIFIC_RAW_INGREDIENT_3}

[option]
message= _ {MENU_IMG_TXT2 "inventory/materials/clay.png" "$inventory[$side_number].clay" _"<span color='{BOB_GREEN}'>Clay</span>
<span size='small'>Raw material used in conjuring</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].clay greater_than_equal_to 1}
	[/show_if]
[command]
#Clay's malleable nature can sometimes be harnessed by magicians intent on moulding forms and creating new life.
[/command]
[/option]

[option]
message= _ {MENU_IMG_TXT2 "inventory/materials/slime.png" "$inventory[$side_number].slime" _"<span color='{BOB_GREEN}'>Slime</span>
<span size='small'>Raw material used in concoction, conjuring, herbalism and weaponcraft</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].slime greater_than_equal_to 1}
	[/show_if]
[command]
#Swamp slime is a viscous and unusually sticky substance - thus it is often used to hasten or hinder the speed of the mind and body.
[/command]
[/option]

[option]
message= _ {MENU_IMG_TXT2 "inventory/materials/gold_nugget.png" "$inventory[$side_number].gold_nugget" _"<span color='{BOB_GREEN}'>Gold Nugget</span>
<span size='small'>Raw material used in concoction</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].gold_nugget greater_than_equal_to 1}
	[/show_if]
[command]
#Gold is not an active ingredient in potions, yet magicians seek out these nuggets on account of the potency they bestow upon other materials.
[/command]
[/option]

[option]
message= _ {MENU_IMG_TXT2 "inventory/materials/ulox_rock.png" "$inventory[$side_number].ulox_rock" _"<span color='{BOB_GREEN}'>Ulox Rock</span>
<span size='small'>Raw material used in concoction, herbalism, traps and weaponcraft</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].ulox_rock greater_than_equal_to 1}
	[/show_if]
[command]
#The ulox rock is among the hardest subtances found in Wesnoth. Even mere contact with this semi-living stone is rumoured to harden the skin.
[/command]
[/option]

[option]
message= _ {MENU_IMG_TXT2 "inventory/materials/huanti_leaves.png" "$inventory[$side_number].huanti_leaves" _"<span color='{BOB_GREEN}'>Huanti Leaves</span>
<span size='small'>Raw material used in concoction and herbalism</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].huanti_leaves greater_than_equal_to 1}
	[/show_if]
[command]
#Due to the extraordinary speed at which the huanti plant grows, it has, for many peoples, come to symbolise the eternal triumph of life and rebirth.
[/command]
[/option]

[option]
message= _ {MENU_IMG_TXT2 "inventory/materials/yoll_tree_bark.png" "$inventory[$side_number].yoll_tree_bark" _"<span color='{BOB_GREEN}'>Yoll Tree Bark</span>
<span size='small'>Raw material used in concoction, conjuring, traps and herbalism</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].yoll_tree_bark greater_than_equal_to 1}
	[/show_if]
[command]
#The tree of knowledge some call it - since the folly and wisdom of the ages are said to be trapped within the rings of its ancient trunk.
[/command]
[/option]

[option]
message= _ {MENU_IMG_TXT2 "inventory/materials/fang.png" "$inventory[$side_number].fang" _"<span color='{BOB_GREEN}'>Fang</span>
<span size='small'>Raw material used in concoction, conjuring and herbalism</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].fang greater_than_equal_to 1}
	[/show_if]
[command]
#The fangs of wild animals often retain traces of the creature's rabid venom.
[/command]
[/option]

[option]
message= _ {MENU_IMG_TXT2 "inventory/materials/fungi.png" "$inventory[$side_number].fungi" _"<span color='{BOB_GREEN}'>Fungi</span>
<span size='small'>Raw material used in concoction and herbalism</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].fungi greater_than_equal_to 1}
	[/show_if]
[command]
#In many ways the Rotoi fungi is a paradox. Unlike other plants the fungi grows by decaying, somehow feeding from its own deterioration.
[/command]
[/option]

[option]
message= _ {MENU_IMG_TXT2 "inventory/materials/skull.png" "$inventory[$side_number].skull" _"<span color='{BOB_GREEN}'>Skull</span>
<span size='small'>Raw material used in conjuring</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].skull greater_than_equal_to 1}
	[/show_if]
[command]
#
[/command]
[/option]

[option]
message= _ {MENU_IMG_TXT2 "inventory/materials/lizard_tail.png" "$inventory[$side_number].lizard_tail" _"<span color='{BOB_GREEN}'>Lizard Tail</span>
<span size='small'>Raw material used in conjuring</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].lizard_tail greater_than_equal_to 1}
	[/show_if]
[command]
#
[/command]
[/option]

[option]
message= _ {MENU_IMG_TXT2 "inventory/materials/scorpion_tail.png" "$inventory[$side_number].scorpion_tail" _"<span color='{BOB_GREEN}'>Scorpion Tail</span>
<span size='small'>Raw material used in concoction, conjuring, traps, herbalism and weaponcraft</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].scorpion_tail greater_than_equal_to 1}
	[/show_if]
[command]
#Even days after its death, a scorpion's tail still retains a small reservoir of poison beneath its chitinous outer-skin.
[/command]
[/option]



[option]
message= _ {MENU_IMG_TXT2 "inventory/materials/dragon_tail.png" "$inventory[$side_number].dragon_tail" _"<span color='{BOB_GREEN}'>Dragon Tail</span>
<span size='small'>Raw material used in concoction, conjuring and herbalism</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].dragon_tail greater_than_equal_to 1}
	[/show_if]
[command]
#There are very few who ever meet a Dragon, let alone stick around long enough to cut off its tail. For this reason, very little is known of the magical properties of its appendages.
[/command]
[/option]

####################################################################################
# Rings
####################################################################################

#####################
# Ring of Swiftness
#####################

[option]
message= _ {MENU_IMG_TXT2 "inventory/jewellery/gold_ring.png" "$inventory[$side_number].ring_of_swiftness" _"<span color='{BOB_GREEN}'>Ring of Swiftness</span>
<span size='small'>+1 movement</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].ring_of_swiftness greater_than_equal_to 1}
	[/show_if]
[command]
[/command]
[/option]

#####################
# Fire Ring
#####################

[option]
message= _ {MENU_IMG_TXT2 "inventory/jewellery/red_ring.png" "$inventory[$side_number].fire_ring" _"<span color='{BOB_GREEN}'>Fire Ring</span>
<span size='small'>+20% fire resistance</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].fire_ring greater_than_equal_to 1}
	[/show_if]
[command]
[/command]
[/option]

#####################
# Water Ring
#####################

[option]
message= _ {MENU_IMG_TXT2 "inventory/jewellery/blue_ring.png" "$inventory[$side_number].water_ring" _"<span color='{BOB_GREEN}'>Water Ring</span>
<span size='small'>+20% cold resistance</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].water_ring greater_than_equal_to 1}
	[/show_if]
[command]
[/command]
[/option]

#####################
# Sky Ring
#####################

[option]
message= _ {MENU_IMG_TXT2 "inventory/jewellery/white_ring.png" "$inventory[$side_number].sky_ring" _"<span color='{BOB_GREEN}'>Sky Ring</span>
<span size='small'>+20% arcane resistance</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].sky_ring greater_than_equal_to 1}
	[/show_if]
[command]
[/command]
[/option]

#####################
# Earth Ring
#####################

[option]
message= _ {MENU_IMG_TXT2 "inventory/jewellery/brown_ring.png" "$inventory[$side_number].earth_ring" _"<span color='{BOB_GREEN}'>Earth Ring</span>
<span size='small'>+20% impact resistance</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].earth_ring greater_than_equal_to 1}
	[/show_if]
[command]
[/command]
[/option]

#####################
# Gold Ring
#####################

[option]
message= _ {MENU_IMG_TXT2 "inventory/jewellery/gold_ring.png" "$inventory[$side_number].gold_ring" _"<span color='{BOB_GREEN}'>Gold Ring</span>
<span size='small'>No special properties</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].gold_ring greater_than_equal_to 1}
	[/show_if]
[command]
[/command]
[/option]

####################################################################################
# Traps
####################################################################################

#####################
# Bomb
#####################

[option]
message= _ {MENU_IMG_TXT2 "inventory/misc_items/bomb.png" "$inventory[$side_number].bomb" _"<span color='{BOB_GREEN}'>Bomb</span>
<span size='small'>A trap that does 12 hitpoints of damage when stepped on</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].bomb greater_than_equal_to 1}
	#{BOB_CONDITION character[$side_number].talent not_equals trapper}
	[/show_if]
[command]
[/command]
[/option]

#####################
# Poison
#####################

[option]
message= _ {MENU_IMG_TXT2 "inventory/misc_items/poison.png" "$inventory[$side_number].poison" _"<span color='{BOB_GREEN}'>Poison</span>
<span size='small'>A trap that poisons when stepped on</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].poison greater_than_equal_to 1}
	#{BOB_CONDITION character[$side_number].talent not_equals trapper}
	[/show_if]
[command]
[/command]
[/option]

#####################
# Net
#####################

[option]
message= _ {MENU_IMG_TXT2 "attacks/net.png" "$inventory[$side_number].net" _"<span color='{BOB_GREEN}'>Net</span>
<span size='small'>A trap that slows when stepped on</span>"}
[show_if]
	{BOB_CONDITION inventory[$side_number].net greater_than_equal_to 1}
	#{BOB_CONDITION character[$side_number].talent not_equals trapper}
	[/show_if]
[command]
[/command]
[/option]

####################################################################################
# Unequipped Weapons
####################################################################################

#####################
# Basic Melee Weapons
#####################

# Sword
{BOB_DISPLAY_WEAPON (Sword) attacks/sword-human.png (Blade melee weapon) sword}
# Elven Sword
{BOB_DISPLAY_WEAPON (Elven Sword) attacks/sword-elven.png (Blade melee weapon) elven_sword}
# Sabre
{BOB_DISPLAY_WEAPON (Sabre) attacks/saber-human.png (Blade melee weapon) saber}
# Spear
{BOB_DISPLAY_WEAPON (Spear) attacks/spear.png (Pierce melee weapon) spear}
# Axe
{BOB_DISPLAY_WEAPON (Axe) attacks/axe.png (Blade melee weapon) axe} 
# Dagger
{BOB_DISPLAY_WEAPON (Dagger) attacks/dagger-human.png (Blade melee weapon) dagger}
# Mace
{BOB_DISPLAY_WEAPON (Mace) attacks/mace.png (Impact melee weapon) mace}
# Staff
{BOB_DISPLAY_WEAPON (Staff) attacks/staff-magic.png (Impact melee weapon) staff}
# Staff
{BOB_DISPLAY_WEAPON (Elven Staff) attacks/druidstaff.png (Impact melee weapon) elven_staff}
# Quarterstaff
{BOB_DISPLAY_WEAPON (Quarterstaff) attacks/club-small.png (Impact melee weapon) quarterstaff}
# Hammer
{BOB_DISPLAY_WEAPON (Hammer) attacks/hammer.png (Impact melee weapon) hammer}

#####################
# Basic Ranged Weapons
#####################

# Bow
{BOB_DISPLAY_WEAPON (Bow) attacks/bow.png (Pierce ranged weapon) bow}
# Elven Bow
{BOB_DISPLAY_WEAPON (Elven Bow) attacks/bow-elven.png (Pierce ranged weapon) elven_bow}
# Javelin
{BOB_DISPLAY_WEAPON (Javelin) attacks/javelin-human.png (Pierce ranged weapon) javelin}
# Bow
{BOB_DISPLAY_WEAPON (Crossbow) attacks/crossbow-human.png (Pierce ranged weapon) crossbow}
# Hatchet
{BOB_DISPLAY_WEAPON (Hatchet) attacks/hatchet.png (Blade ranged weapon) hatchet}
# Knife
{BOB_DISPLAY_WEAPON (Knife) attacks/knife.png (Blade ranged weapon) knife}
# Sling
{BOB_DISPLAY_WEAPON (Sling) attacks/sling.png (Impact ranged weapon) sling}

#####################
# Novel Melee Weapons
#####################

# Holy Sword
{BOB_DISPLAY_WEAPON (Holy Sword) attacks/sword-holy.png (Arcane melee weapon) holy_sword}
# Salamander Blade
{BOB_DISPLAY_WEAPON (Salamander Blade) attacks/sword-flaming.png (Fire melee weapon: +3 damage) salamander_blade}
# Slayer
{BOB_DISPLAY_WEAPON (Slayer) attacks/greatsword-orcish.png (Blade melee weapon: Dread, +1 damage) slayer}

# Thunder Axe
{BOB_DISPLAY_WEAPON (Thunder Axe) attacks/battleaxe-undead.png (Blade melee weapon: Knockout, +1 damage) thunder_axe}
# Battle Axe
{BOB_DISPLAY_WEAPON (Battle Axe) attacks/battleaxe.png (Blade melee weapon: +2 damage) battle_axe}

# Barbed Spear
{BOB_DISPLAY_WEAPON (Barbed Spear) attacks/pike.png (Pierce melee weapon: +2 damage) barbed_spear}
# Enchanted Spear
{BOB_DISPLAY_WEAPON (Enchanted Spear) attacks/spear-orcish.png (Pierce melee weapon: Magical) enchanted_spear}
# Lance
{BOB_DISPLAY_WEAPON (Lance) inventory/weapons/lance.png (Pierce melee weapon: Charge) lance}

# Ice Rod
{BOB_DISPLAY_WEAPON (Ice Rod) attacks/staff-elven.png (Cold melee weapon: Magical, +2 damage) ice_rod}
# Plague Staff
{BOB_DISPLAY_WEAPON (Plague Staff) attacks/staff-plague.png (Impact melee weapon: Plague, -2 damage) plague_staff}

# Nipper
{BOB_DISPLAY_WEAPON (Nipper) attacks/dagger-orcish.png (Blade melee weapon: +1 attacks) nipper}

# Smasher
{BOB_DISPLAY_WEAPON (Smasher) attacks/hammer-troll.png (Impact melee weapon: Knockback, +2 damage) smasher}


#####################
# Novel Ranged Weapons
#####################

# Storm Bow
{BOB_DISPLAY_WEAPON (Storm Bow) attacks/bow-elven.png (Pierce ranged weapon: +3 damage) storm_bow}
# Frost Bow
{BOB_DISPLAY_WEAPON (Frost Bow) attacks/bow-elven-magic.png (Cold ranged weapon: +1 damage) frost_bow}
# Fire Bow
{BOB_DISPLAY_WEAPON (Fire Bow) inventory/weapons/fire-bow.png (Fire ranged weapon) fire_bow}

# Tomahawk
{BOB_DISPLAY_WEAPON (Tomahawk) attacks/pick-axe.png (Blade ranged weapon: Sureflight, +1 damage) tomahawk}
# Feathered Javelin
{BOB_DISPLAY_WEAPON (Feathered Javelin) inventory/weapons/feathered-javelin.png (Pierce ranged weapon: Sureflight) feathered_javelin}
# Heavy Crossbow
{BOB_DISPLAY_WEAPON (Heavy Crossbow) attacks/crossbow-orcish.png (Pierce ranged weapon: +3 damage) heavy_crossbow}
# Customised Sling
{BOB_DISPLAY_WEAPON (Customised Sling) attacks/sling.png (Impact ranged weapon: +1 damage) customised_sling}

#{BOB_SCENARIO_SPECIFIC_WEAPON_1}
#{BOB_SCENARIO_SPECIFIC_WEAPON_2}
#{BOB_SCENARIO_SPECIFIC_WEAPON_3}
#{BOB_SCENARIO_SPECIFIC_WEAPON_4}
#{BOB_SCENARIO_SPECIFIC_WEAPON_5}

[/message]
[/do]
[/while]
#enddef

####################################################################################
# Right-click option
####################################################################################

#define BOB_INVENTORY_OPTION
[set_menu_item]
	id=Inventory
	description=_ "Inventory"
	image=misc/inventory.png
	[show_if]
		[have_unit]
			side=$side_number
			x,y=$x1,$y1
			canrecruit=yes
			[filter_wml]
				[variables]
					character_status=active
				[/variables]
				attacks_left=1
			[/filter_wml]
		[/have_unit]
	[/show_if]
	[command]
		{BOB_INVENTORY}
	[/command]
[/set_menu_item]
#enddef
